<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">

{% seo %}
    {% include head-custom.html %}

    <style>
      /* Center elements while keeping Slate theme styling */
      header h1 {
        text-align: center;
      }

      header img {
        display: block;
        margin: 30px auto 20px auto;
      }

      header p {
        text-align: center;
      }

      .resources-section {
        text-align: center;
        margin-top: 30px;
      }

      .resources-section h3 {
        color: #fff;
        margin-bottom: 15px;
      }

      .resources-links {
        display: flex;
        justify-content: center;
        gap: 20px;
        flex-wrap: wrap;
      }

      .resources-links p {
        margin: 0;
      }
      
      /* Custom style for the horizontal rule to add space before the next section header */
      hr {
        margin-top: 30px; /* This adds space above the line, pushing the next header down */
        border-color: #4a6278;
      }

      /* Button styling for demo links */
      .button-container {
        margin: 15px 0;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .demo-button {
        display: inline-block;
        padding: 8px 16px;
        text-decoration: none;
        border-radius: 4px;
        font-weight: bold;
        font-size: 14px;
        transition: all 0.3s ease;
        border: 2px solid transparent;
        cursor: pointer;
      }

      .code-button {
        background-color: #1e7e4a;
        color: #fff;
        border-color: #1e7e4a;
      }

      .code-button:hover {
        background-color: #229954;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      }

      .demo-button-style {
        background-color: #2c3e50;
        color: #fff;
        border-color: #2c3e50;
      }

      .demo-button-style:hover {
        background-color: #4a6278;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      }

      /* ========================================================= */
      /* NEW STYLES FOR TWO-COLUMN LAYOUT */
      /* ========================================================= */
      
      .content-wrapper {
        display: flex;
        gap: 40px; /* Space between the TOC and content */
        align-items: flex-start; /* Align content to the top */
      }

      /* Targeting the TOC container (ul.toc) */
      .content-wrapper .toc {
        flex: 0 0 250px; /* Set a fixed width for the TOC */
        padding: 20px;
        border-right: 1px solid #4a6278; /* Optional divider */
        /* Additional styling to make the TOC stand out */
        background-color: #2c3e50;
        border-radius: 4px;
        list-style-type: none; /* Remove default list style */
      }

      /* Ensure the table of contents list items are styled for the dark theme */
      .content-wrapper .toc li a {
          color: #ddd;
      }
      
      /* The rest of the page content takes up the remaining space */
      .content-wrapper > * {
        flex-grow: 1;
      }
      
      /* Hide the main H1 tag (CabLab Tasks/Surveys) from the body to keep it clean */
      #main_content h1:first-child {
        display: none;
      }

      /* Responsive design for mobile: columns stack */
      @media (max-width: 900px) {
        .content-wrapper {
          flex-direction: column;
          gap: 0;
        }

        .content-wrapper .toc {
          width: 100%;
          flex: none;
          border-right: none;
          border-bottom: 1px solid #4a6278;
          margin-bottom: 20px;
        }

        /* Show the main H1 tag back on mobile for context */
        #main_content h1:first-child {
          display: block;
        }
      }
      
      /* Responsive design for mobile buttons */
      @media (max-width: 480px) {
        .button-container {
          flex-direction: column;
          align-items: flex-start;
        }

        .demo-button {
          width: 100%;
          text-align: center;
        }
      }
    </style>
  </head>

  <body>

    <div id="header_wrap" class="outer">
        <header class="inner">
          <h1 id="project_title">{{ site.title | default: site.github.repository_name }}</h1>

          {% if site.logo %}
            <img src="{{site.logo | relative_url}}" alt="Logo" style="max-width: 200px" />
          {% endif %}

          <h2 id="project_tagline">{{ site.description | default: site.github.project_tagline }}</h2>

          <div class="resources-section">
            <h3>Resources</h3>
            <div class="resources-links">
              <p><a href="https://www.jspsych.org/" style="color: #ddd;">jsPsych</a></p>
              <p><a href="https://nivlab.github.io/jspsych-demos/" style="color: #ddd;">Niv Lab jsPsych Demos</a></p>
            </div>
          </div>
        </header>
    </div>

    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <div class="content-wrapper">
          {{ content }}
        </div>
      </section>
    </div>

    <div id="footer_wrap" class="outer">
      <footer class="inner">
        {% if site.github.is_project_page %}
        <p class="copyright">{{ site.title | default: site.github.repository_name }} maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
        {% endif %}
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>